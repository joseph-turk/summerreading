{% extends 'shared/layout.html' %}
{% block content %}
{% load static %}

{% if program.is_full %}
<div class="card bg-warning mb-5">
  <div class="card-body">
    <h2 class="mb-0">This program is currently full. You will be placed on the wait list.</h2>
  </div>
</div>
{% endif %}

<h2 class="display-4 text-center">{{ program.name }}</h2>

<hr>

<div class="row mb-4">
  <div class="col">
    <img src="{{ program.graphic.url }}" class="program-graphic">
  </div>

  <div class="col">
    <h3>Program Description</h3>
    <p>{{ program.description }}</p>

    <h3>Date and Time</h3>
    <p>{{ program.date }} at {{ program.time }}</p>

    <h3>Capacity</h3>
    <p class="mb-0">Capacity: {{ program.capacity }}</p>
    <p>Slots Left: {{ program.slots_left }}</p>
  </div>
</div>

<div class="row">
  <div class="col">
    <h2 class="display-4 text-center">Register</h2>

    <hr>

    <form action="{% url 'app:add_registration' program.id %}" method="post">
      {% csrf_token %}

      <div class="row">
        <div class="col-lg">
          <h3>Your Information</h3>

          <div class="form-group">
            <label for="adultname">Your Name</label>
            <input type="text" id="adultname" name="adultname" class="form-control" required>
          </div>

          <div class="form-group">
            <label for="adultemail">Your Email Address</label>
            <input type="email" id="adultemail" name="adultemail" class="form-control" required>
          </div>
        </div>

        <div class="col-lg">
          <div id="children">
            <h3>Children to Register</h3>

            <div class="form-group">
              <label for="childname1">Child's name</label>
              <input type="text" id="childname1" name="childname1" class="form-control">
            </div>
          </div>

          <button id="addChild" class="btn btn-sm btn-primary" type="button">Add Another Child</button>
        </div>
      </div>

      <div class="mt-4">
        <button class="btn btn-primary">Register</button>
        <a href="javascript:history.back()" class="btn btn-secondary">Back</a>
      </div>
    </form>
  </div>
</div>

{% endblock content %}

{% block scripts %}
<script src="{% static 'shared/multiadd.js' %}"></script>
{% endblock scripts %}